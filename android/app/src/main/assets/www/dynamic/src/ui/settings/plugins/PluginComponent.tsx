function module(e,t,n){var r,i,a,o,s,l;n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},0),n.link("react",{default:function(e){i=e},useEffect:function(e){a=e},useRef:function(e){o=e}},0),n.link("@visualteams/plugin-engine/definitions/messages/MessageType",{MessageType:function(e){s=e}},1),n.link("../../../lib/iFrameResizer",{default:function(e){l=e}},2);var u=function(e){var t=e.name,n=e.component,u=e.data,c=void 0===u?{}:u,f=o();a((function(){var e=function(e){return f.current.contentWindow.postMessage(e,"*")},n=function(n){var i=n.message,a=n.data,o;if(n.origin+"/"===Meteor.absoluteUrl()){var l=i||a;if(l.type===s.CALL)Meteor.call("plugins.call.method",l,(function(t,n){e(r(r({},l),{},{err:t,res:n}))}));else if(l.type===s.GET_DATA||l.type===s.SET_DATA){var u=l.type===s.GET_DATA?"plugins.store.get":"plugins.store.set",c=l.type===s.GET_DATA?l.options:l.data;if(String(l.key).includes("private."))throw new Meteor.Error(400,"The client can't query variable with the keyword private in the name");Meteor.call(u,t,l.key,c,(function(t,n){e(r(r({},l),{},{err:t,res:n}))}))}else l.type===s.TOAST&&Alert[l.level](l.message)}};return window.addEventListener("message",n,!1),function(){window.removeEventListener("message",n)}}));var g=function(){return l({triggerInterval:!0})};return a((function(){return l({triggerInterval:!0,cb:g})})),i.createElement("iframe",{id:"iFrameForStaticPage",ref:f,src:"/plugins/"+t+"/"+n+"?params="+JSON.stringify(c),style:{border:0,height:"100%"},allowFullScreen:!0,width:"100%",height:"100%",scrolling:"no"})};n.exportDefault(u)}

