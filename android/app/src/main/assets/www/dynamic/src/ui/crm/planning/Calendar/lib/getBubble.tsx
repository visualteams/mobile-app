function module(t,e,r){var n,a,d,u;r.link("react",{default:function(t){n=t}},0),r.link("moment",{default:function(t){a=t}},1),r.link("../GoalBubble",{default:function(t){d=t}},2),r.link("../../../../../lib/planning/openDay",{default:function(t){u=t}},3);var o=function(t){return t.sort((function(t,e){return t.createdAt>e.createdAt?1:t.createdAt<e.createdAt?-1:0}))},i=function(t){var e=t.day,r=t.goals,i=t.reports,c=t.holidays,l=t.user,s=t.key,f=t.nbDay,D=t.startDate,y=t.allGoals,Y=t.allReports,p=0;y.filter((function(t){return t.usersId.includes(l._id)})).forEach((function(t){var r=a.utc(t.startDate),n="event"===t.type?a.utc(t.endDate):a.utc(t.endDate).add(1,"day");!e.isSame(r)&&a.utc(e).endOf("day").isBetween(r,n)&&(p+=1)}));var I=o(r[s]).map((function(t,r){return e.isSame(a.utc(t.startDate),"day")?(r>0&&(p+=1),n.createElement(d,{key:""+t._id,startDate:D,projectId:t.projectId,goal:t,order:p,reports:Y.filter((function(e){return e.projectId===t.projectId&&e.createdBy===l._id})),onClick:function(t){return u({userId:l._id,day:t})},nbDay:f,day:e})):null}));I.length>=1&&(p+=1);var k,m=i[s].filter((function(t){var e;return 0===y.filter((function(t){return t.usersId.includes(l._id)})).filter((function(e){return t.projectId===e.projectId})).filter((function(e){return e.taskIds.includes(t.taskId)||0===e.taskIds.length&&!t.taskId})).filter((function(e){var r;return a.utc(t.date).isBetween(a.utc(e.startDate),a.utc(e.endDate),void 0,"[]")})).length})).map((function(t,r){return r>0&&(p+=1),n.createElement(d,{key:t._id,projectId:t.projectId,startDate:D,goal:{type:"report",taskIds:t.taskId?[t.taskId]:[]},order:p,reports:[t],onClick:function(){return u({userId:l._id,day:e})},nbDay:f,day:e})})),M;return m.length>=1&&(p+=1),[I,m,c[s].map((function(t,r){return a.utc(t.startDate).format("YYYY-MM-DD")!==e.format("YYYY-MM-DD")&&a.utc(t.startDate).format("YYYY-MM-DD")<e.format("YYYY-MM-DD")&&e.format("YYYY-MM-DD")!==a.utc(D).add(1,"days").format("YYYY-MM-DD")?null:(r>0&&(p+=1),n.createElement(d,{key:"holiday"+t._id,startDate:D,holidays:c[s],order:p,onClick:function(){return u({userId:l._id,day:e})},nbDay:f,day:e}))}))]};r.exportDefault(i)}

