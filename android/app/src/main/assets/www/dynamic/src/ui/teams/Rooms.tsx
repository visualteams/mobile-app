function module(e,t,n){var i,a,l,r,o,u,c,d,s,f,m,k,p,v,E,b,y;n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){i=e}},0),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){a=e}},1),n.link("lodash/sortBy",{default:function(e){l=e}},0),n.link("react",{default:function(e){r=e},useState:function(e){o=e}},1),n.link("react-intl",{FormattedMessage:function(e){u=e}},2),n.link("moment",{default:function(e){c=e}},3),n.link("meteor/react-meteor-data",{useTracker:function(e){d=e}},4),n.link("@material-ui/core",{makeStyles:function(e){s=e}},5),n.link("@material-ui/lab/Alert/Alert",{default:function(e){f=e}},6),n.link("../components/Button",{default:function(e){m=e}},7),n.link("../../lib/users/haveSub",{default:function(e){k=e}},8),n.link("../../db/crm/goals",{default:function(e){p=e}},9),n.link("../crm/planning/GoalBox",{default:function(e){v=e}},10),n.link("../crm/planning/AddFormVisio",{default:function(e){E=e}},11),n.link("../Title",{default:function(e){b=e}},12),n.link("../../constants/ROLES",{ROLES:function(e){y=e}},13);var g=s({spacer:{marginTop:48},titleContainer:{display:"flex",justifyContent:"space-between",alignItems:"center"}}),h=function(){var e=o(!1),t=a(e,2),n=t[0],s=t[1],h=o(!0),I=a(h,2),D=I[0],S=I[1],A=g(),C=function(){return s(!0)},w=function(){return s(!1)},x=d((function(){return p.find({usersId:Meteor.userId(),type:"event",$and:[{endDate:{$gte:c().startOf("day").toDate()}},{startDate:{$lte:c().add(30,"days").toDate()}}]}).fetch()}),[]);return r.createElement("div",null,r.createElement("div",{id:"visio-div"},r.createElement("div",{className:A.titleContainer},r.createElement(b,null,r.createElement(u,{id:"Rooms.Visio"})),r.createElement("div",{style:{float:"right"}},r.createElement(m,{id:"testId-addEvent",variant:"contained",color:"primary",onClick:C,disabled:!!n,size:"large",blockedFeature:!k("standard"),restrictedFeature:y.MANAGE_VISIO},r.createElement(u,{id:"Rooms.NewEvent",defaultMessage:"Planifier une visio"})))),D&&r.createElement(f,{severity:"info",variant:"filled",style:{position:"absolute",bottom:16,width:"calc(100% - 32px)"},onClose:function(){return S(!1)}},r.createElement(u,{id:"Rooms.ExplainsVisio"})),n&&r.createElement(E,{open:!0,onClose:w,date:new Date,userId:Meteor.userId()}),l(x,"startDate").map((function(e){return r.createElement(v,{style:{background:"white"},key:e._id,model:i(i({},e),{},{project:void 0})})}))))};n.exportDefault(h)}

