function module(e,t,n){var r=["WrappedComponent","_tasks"],o=["_id"],u,a,i,c,l,s,f,d,p,m,k,b,v,h,j,x,I,_;n.link("@babel/runtime/regenerator",{default:function(e){u=e}},0),n.link("@babel/runtime/helpers/extends",{default:function(e){a=e}},1),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){i=e}},2),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){c=e}},3),n.link("@babel/runtime/helpers/objectWithoutProperties",{default:function(e){l=e}},4),n.export({TaskDetail:function(){return w}}),n.link("react",{default:function(e){s=e},useEffect:function(e){f=e},useState:function(e){d=e}},0),n.link("meteor/react-meteor-data",{withTracker:function(e){p=e}},1),n.link("react-intl",{useIntl:function(e){m=e}},2),n.link("material-ui-confirm",{useConfirm:function(e){k=e}},3),n.link("react-toastify",{toast:function(e){b=e}},4),n.link("react-router",{useParams:function(e){v=e}},5),n.link("meteor/meteor",{Meteor:function(e){h=e}},6),n.link("../../components/crm/AddFormTask",{default:function(e){j=e}},7),n.link("../projects/ProjectBar",{default:function(e){x=e}},8),n.link("../../../lib/tasks/createEmptyTask",{default:function(e){I=e}},9),n.link("../../../db/crm/taskstatus",{default:function(e){_=e}},10);var w=new h.Collection("taskDetail"),E=null,g=function(e){var t=e.WrappedComponent,n=e._tasks,p=l(e,r),_=d(!0),w=c(_,2),g=w[0],y=w[1],C=d(null),P=c(C,2),D=P[0],T=P[1],A,S=v().projectId,W,B=m().formatMessage,F=k();f((function(){var e=h.subscribe("teams.tasks.getAllDetail",{projectId:S},(function(){return y(!1)}));return function(){e.stop()}}),[]);var M=function(){function e(e){var t,n;return u.async(function(){function r(r){for(;;)switch(r.prev=r.next){case 0:return t=e._id,n=l(e,o),E=null,r.next=4,u.awrap(h.promise("tasks.update",{_id:t},n).catch(b.error));case 4:T(null);case 5:case"end":return r.stop()}}return r}(),null,null,null,Promise)}return e}(),q=function(){function e(){var e,t,n=arguments;return u.async(function(){function r(r){for(;;)switch(r.prev=r.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},r.next=3,u.awrap(I(i(i({},e),{},{projectId:S})));case 3:t=r.sent,E=t._id,T(t);case 6:case"end":return r.stop()}}return r}(),null,null,null,Promise)}return e}(),z=function(){T(null),E&&h.promise("tasks.delete",{_id:E}),E=null},G=function(){function e(e){return u.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.awrap(F());case 2:return t.prev=2,t.next=5,u.awrap(h.promise("tasks.delete",{_id:e._id}));case 5:b.success(B({id:"success"})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),b.error(B({id:"error"}));case 11:case"end":return t.stop()}}return t}(),null,null,[[2,8]],Promise)}return e}();return s.createElement(s.Fragment,null,!p.hideBar&&s.createElement(x,{projectId:S}),D&&s.createElement(j,{open:!!D,projectId:S,model:D,onSubmit:M,onClose:z,doInsert:!1}),s.createElement(t,a({},p,{projectId:S,tasks:n,onEdit:T,onAdd:q,onDelete:G,loading:g})))};n.exportDefault((function(e){return p((function(t){var n,r,o=null===(n=t.match)||void 0===n||null===(r=n.params)||void 0===r?void 0:r.projectId,u=w.find().fetch(),a=_.find({projectId:o},{sort:{order:1}}).fetch();return{WrappedComponent:e,_tasks:u,tasksStatus:a}}))(g)}))}

