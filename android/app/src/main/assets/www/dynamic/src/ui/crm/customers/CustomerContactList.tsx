function module(e,t,n){var r,i,l,o,u,c,a,s,f,m,d,k,p,E,C,b,v,g,h,A;n.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){i=e}},1),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},2),n.link("react",{default:function(e){o=e},useEffect:function(e){u=e},useState:function(e){c=e}},0),n.link("react-intl",{FormattedMessage:function(e){a=e},useIntl:function(e){s=e}},1),n.link("meteor/meteor",{Meteor:function(e){f=e}},2),n.link("react-toastify",{toast:function(e){m=e}},3),n.link("../../components/crm/MaterialTable",{default:function(e){d=e}},4),n.link("../../components/Button",{default:function(e){k=e}},5),n.link("../../../lib/users/haveSub",{default:function(e){p=e}},6),n.link("./AddFormCustomerContact",{default:function(e){E=e}},7),n.link("@material-ui/core/Tooltip",{default:function(e){C=e}},8),n.link("@material-ui/core/IconButton",{default:function(e){b=e}},9),n.link("@material-ui/icons/Edit",{default:function(e){v=e}},10),n.link("@visualteams/ui-kit/colors",{default:function(e){g=e}},11),n.link("@material-ui/icons/Delete",{default:function(e){h=e}},12),n.link("material-ui-confirm",{useConfirm:function(e){A=e}},13);var y=function(e){var t=e.customerId,n=c([]),y=l(n,2),x=y[0],I=y[1],F=c(!0),L=l(F,2),M=L[0],w=L[1],z=c(!1),D=l(z,2),S=D[0],T=D[1],B=s(),P=B.formatMessage,j=B.locale,_=A();u((function(){q()}),[t]);var q=function(){function e(){return r.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.abrupt("return",f.promise("customerContact.read",{selector:{customerId:t}}).then(I).finally((function(){return w(!1)})));case 2:case"end":return e.stop()}}return e}(),null,null,null,Promise)}return e}(),G=[{title:P({id:"CustomerContactList.name"}),field:"",render:function(e){var t=e.firstname,n=e.lastname;return o.createElement("div",null,t," ",n)}},{title:"Email",field:"email"},{title:P({id:"CustomerContactList.haveExternalAccess"}),field:"haveExternalAccess",type:"boolean"},{field:"actions",title:"Actions",sorting:!1,align:"right"}],H=P({id:"CustomerContactList.titleArray"}),J=function(){function e(e){return r.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.awrap(_());case 2:return t.abrupt("return",f.promise("customerContact.delete",e).then((function(){return m.success(P({id:"success"})),q()})).catch((function(e){return console.error(e),m.error(P({id:"error"}))})));case 3:case"end":return t.stop()}}return t}(),null,null,null,Promise)}return e}(),K=function(e){return o.createElement("div",null,o.createElement(C,{title:P({id:"Actions.Edit"})},o.createElement(b,{onClick:function(){return T(e)},size:"small"},o.createElement(v,null))),o.createElement(C,{title:P({id:"Actions.Delete"})},o.createElement("span",null,o.createElement(b,{onClick:function(){return J(e._id)},size:"small",style:{color:g.danger}},o.createElement(h,null)))))},N=function(){q(),T(!1)};return o.createElement("div",{id:"customers-contacts-table"},S&&o.createElement(E,{model:S,onClose:N,customerId:t}),o.createElement(d,{title:H,columns:G,data:x.map((function(e){return i(i({},e),{},{actions:K(e)})})),lang:j,isLoading:M,components:{Actions:function(){return o.createElement(o.Fragment,null,o.createElement(k,{id:"button-add-customer-contact",onClick:function(){return T({})},size:"large",blockedFeature:!p("standard")&&x.length>=10,placement:"left"},o.createElement(a,{id:"CustomerContact.Add"})))}}}))};n.exportDefault(y)}

