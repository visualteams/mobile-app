function module(e,t,n){var i,l,a,c,r,o,u,d,m,s,f,E,k,p,g,v,y,h,D,b,C,S,N,I,w,x,T,M,F,A;n.link("@babel/runtime/regenerator",{default:function(e){i=e}},0),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},1),n.link("react",{"*":function(e){a=e}},0),n.link("react-intl",{FormattedMessage:function(e){c=e}},1),n.link("react",{useCallback:function(e){r=e},useEffect:function(e){o=e},useState:function(e){u=e}},2),n.link("react-toastify",{toast:function(e){d=e}},3),n.link("debounce",{default:function(e){m=e}},4),n.link("moment",{default:function(e){s=e}},5),n.link("@tinymce/tinymce-react",{Editor:function(e){f=e}},6),n.link("react-router-dom",{useHistory:function(e){E=e}},7),n.link("material-ui-confirm",{useConfirm:function(e){k=e}},8),n.link("meteor/meteor",{Meteor:function(e){p=e}},9),n.link("@material-ui/core/Grid/Grid",{default:function(e){g=e}},10),n.link("@material-ui/core/TextField/TextField",{default:function(e){v=e}},11),n.link("@material-ui/core/styles/makeStyles",{default:function(e){y=e}},12),n.link("@material-ui/icons/Star",{default:function(e){h=e}},13),n.link("@material-ui/icons/Delete",{default:function(e){D=e}},14),n.link("@material-ui/icons/Edit",{default:function(e){b=e}},15),n.link("@material-ui/icons/Person",{default:function(e){C=e}},16),n.link("@material-ui/icons/CloudDownload",{default:function(e){S=e}},17),n.link("@visualteams/ui-kit/colors",{default:function(e){N=e}},18),n.link("../components/MainLoader",{default:function(e){I=e}},19),n.link("../NotFound",{default:function(e){w=e}},20),n.link("../components/Button",{default:function(e){x=e}},21),n.link("../../lib/users/getUsername",{default:function(e){T=e}},22),n.link("./KnowledgeBreadcrumb",{default:function(e){M=e}},23),n.link("../../constants/TINYMCE",{TINYMCE:function(e){F=e}},24),n.link("../../../public/assets/editor-style.css"),n.link("../../lib/hooks/useLocale",{default:function(e){A=e}},25);var L=y({title:{fontSize:28,fontWeight:500,color:N.primary,textAlign:"center"},divider:{marginTop:32},breadbar:{background:"#f2f3f4",padding:12,height:48},docContainer:{height:"calc(100% - 54px)",padding:16},actionsContainer:{background:"#f2f3f4",padding:32}}),z=function(e){var t=e.match.params.documentId,n=u(null),y=l(n,2),N=y[0],z=y[1],P=u(!1),_=l(P,2),B=_[0],G=_[1],H=L(),V=A(),W=E(),Y=k();o((function(){K()}),[]);var K=function(){return p.promise("documents.read",{selector:{_id:t}}).then((function(e){var t=e[0];t.content||G(!0),z(t||!1)}))},R,U=r(m((function(e){var n=e.target.value;return p.promise("documents.update",t,{title:n}).catch((function(e){return d.error(e.toString())}))}),350),[]),j,q=r(m((function(e){return p.promise("documents.update",t,{content:e})}),350),[]),J=function(){B?(K(),G(!1)):G(!0)},O=function(){return Y().then(function(){function e(){return i.async(function(){function e(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.awrap(p.promise("documents.delete",N));case 2:W.push("/folder/"+N.knowledgeId);case 3:case"end":return e.stop()}}return e}(),null,null,null,Promise)}return e}())};return!1===N?a.createElement(w,null):N?a.createElement(g,{container:!0,spacing:0,style:{height:"100%"}},a.createElement(g,{item:!0,xs:10},a.createElement("div",{className:H.breadbar},!B&&a.createElement(M,{knowledgeId:N.knowledgeId,last:N.title})),a.createElement("div",{className:H.docContainer},B&&a.createElement(v,{fullWidth:!0,onChange:function(e){e.persist(),U(e)},defaultValue:N.title}),!B&&a.createElement("div",{className:H.title},N.title),!B&&a.createElement("div",{className:"page-content",style:{paddingLeft:16,paddingRight:16},dangerouslySetInnerHTML:{__html:N.content}}),B&&a.createElement(f,{initialValue:N.content,init:F.getConfig({locale:V}),onEditorChange:q,tinymceScriptSrc:F.tinymceScriptSrc}))),a.createElement(g,{item:!0,xs:2,className:H.actionsContainer},a.createElement("div",{className:H.title},a.createElement(c,{id:"DocumentDisplayer.details"})),a.createElement("div",null,a.createElement(h,{fontSize:"small"})," ",a.createElement(c,{id:"DocumentDisplayer.createdAt"}),":"," ",s.utc(N.createdAt).fromNow()),a.createElement("div",null,a.createElement(C,{fontSize:"small"})," ",a.createElement(c,{id:"DocumentDisplayer.author"}),":"," ",T(N.ownerId)),a.createElement("div",{className:H.divider}),a.createElement("div",{className:H.title},a.createElement(c,{id:"DocumentDisplayer.actions"})),a.createElement("div",null,a.createElement(x,{startIcon:a.createElement(b,null),onClick:J},B?a.createElement(c,{id:"DocumentDisplayer.view"}):a.createElement(c,{id:"DocumentDisplayer.edit"}))),a.createElement("div",null,a.createElement(x,{startIcon:a.createElement(D,null),onClick:O},a.createElement(c,{id:"DocumentDisplayer.remove"}))),a.createElement("div",null,a.createElement(x,{startIcon:a.createElement(S,null),onClick:function(){return alert("Soon â€¦")}},a.createElement(c,{id:"DocumentDisplayer.exportPDF"}))))):a.createElement(I,null)};n.exportDefault(z)}

