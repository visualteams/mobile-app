function module(e,t,n){var i,o,l,a,r,s,c,u,d,m,f,g,k,b,p,v,E,C,h,y;n.link("react",{default:function(e){i=e}},0),n.link("react-intl",{FormattedMessage:function(e){o=e},useIntl:function(e){l=e}},1),n.link("meteor/react-meteor-data",{useTracker:function(e){a=e},withTracker:function(e){r=e}},2),n.link("react-router-dom",{useHistory:function(e){s=e}},3),n.link("@material-ui/core/Card",{default:function(e){c=e}},4),n.link("@material-ui/core/styles/makeStyles",{default:function(e){u=e}},5),n.link("@material-ui/core/Tooltip/Tooltip",{default:function(e){d=e}},6),n.link("@visualteams/ui-kit/colors",{default:function(e){m=e}},7),n.link("../../components/Button",{default:function(e){f=e}},8),n.link("../../components/UserAvatar",{default:function(e){g=e}},9),n.link("../../../db/teams/availability",{default:function(e){k=e}},10),n.link("../../../lib/isUserOnline",{default:function(e){b=e}},11),n.link("../../../lib/hooks/useVideoConnected",{default:function(e){p=e}},12),n.link("../../globalTeamId",{globalTeamId:function(e){v=e}},13),n.link("../../App",{currentVideoRoom:function(e){E=e}},14),n.link("../../../lib/users/isVideoIntegrated",{default:function(e){C=e}},15),n.link("../../../lib/users/haveSub",{default:function(e){h=e}},16),n.link("../../../lib/hooks/useMobile",{default:function(e){y=e}},17);var I=u({content:{padding:4,minHeight:"4rem",display:"flex",alignItems:"center",justifyContent:"space-between"},container:{width:"100%",height:130,display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},buttonContainer:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:m.totalLine,fontWeight:500,padding:4},title:{fontWeight:600,fontSize:"140%"}}),R=function(e){var t=e.room,n=e.roomConnected,r=I(),u,m=l().formatMessage,R=s(),M=p(),N=y(),x=N.isMobile,T=N.isElectron,_=a((function(){return k.find({lastRoomId:t._id}).fetch()}),[]);console.log("isElectron:",T),console.log("isMobile:",x),console.log("isVideoIntegrated():",C());var U=_.filter((function(e){return b(e,"video")})),V=function(){var e="meeting/"+v.get()+"/"+t._id;T&&!C()?parent.postMessage({message:"openPersistentRoom",url:Meteor.absoluteUrl()+e,openDebug:Meteor.isDevelopment},"*"):x?R.push("/"+e):E.set(t)},j=function(){return m(M?{id:"ListPersistentRooms.alreadyInVideo"}:{id:"ListPersistentRooms.joinRoom"})},D=(null==n?void 0:n._id)===t._id;return i.createElement(c,null,i.createElement("div",null,i.createElement("div",{className:r.buttonContainer},i.createElement("div",{className:r.title},i.createElement(o,{id:t.name}))),i.createElement("div",{className:r.content},i.createElement("img",{src:"images/video.svg",height:"130px"}),i.createElement("div",{className:r.container},0===U.length&&i.createElement(o,{id:"RoomCard.NoUser"}),U.length>0&&i.createElement("div",{style:{position:"absolute",top:4}},i.createElement(o,{id:"RoomCard.UsersInRoom"})),U.map((function(e){return i.createElement(g,{key:e._id,userId:e._id,disableCalculationAvailable:!0,disableDisplayName:!0})})))),i.createElement("div",{className:r.buttonContainer},i.createElement(d,{title:j()},i.createElement("div",null,i.createElement(f,{color:D?"secondary":"primary",variant:D?"text":"contained",size:"small",onClick:function(){D||V()},disabled:M&&!D,blockedFeature:!h("standard")},D?i.createElement(o,{id:"RoomCard.Connected"}):i.createElement(o,{id:"RoomCard.Join"})))))))};n.exportDefault(r((function(){var e;return{roomConnected:E.get()}}))(R))}

