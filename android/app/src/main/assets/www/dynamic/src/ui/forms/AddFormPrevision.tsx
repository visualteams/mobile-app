function module(e,n,t){var r,a,i,o,l,c,u,m,s,d,f,p,v,b,E;t.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),t.link("@babel/runtime/helpers/objectSpread2",{default:function(e){a=e}},1),t.link("react",{default:function(e){i=e}},0),t.link("uniforms-material",{AutoField:function(e){o=e},AutoForm:function(e){l=e},HiddenField:function(e){c=e}},1),t.link("react-intl",{FormattedMessage:function(e){u=e},useIntl:function(e){m=e}},2),t.link("meteor/meteor",{Meteor:function(e){s=e}},3),t.link("react-toastify",{toast:function(e){d=e}},4),t.link("uniforms-bridge-simple-schema-2",{SimpleSchema2Bridge:function(e){f=e}},5),t.link("../components/AddForm",{default:function(e){p=e}},6),t.link("../../db/financial/expensePrevision/schema",{default:function(e){v=e}},7),t.link("moment",{default:function(e){b=e}},8),t.link("../../constants/FINANCES",{EnumFrequencyBudget:function(e){E=e}},9);var k=function(e){var n=e.onClose,t=e.categorie,k=e.startDate,F=e.model,x=void 0===F?{}:F,A,g=m().formatMessage,h=t.limits.find((function(e){return b.utc(e.startDate).isSame(b.utc(k))})),y=function(){function e(e){return r.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!x._id){t.next=6;break}return t.next=4,r.awrap(s.promise("expensesPrevisions.update",{_id:e._id},e));case 4:t.next=8;break;case 6:return t.next=8,r.awrap(s.promise("expensesPrevisions.create",a(a({},e),{},{startDate:k})));case 8:n(),d.success(g({id:"success"})),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0),d.error(g({id:"error"}));case 16:case"end":return t.stop()}}return t}(),null,null,[[0,12]],Promise)}return e}(),_=v.omit("startDate"),P=i.createElement(l,{schema:new f(_),model:x},i.createElement(o,{name:"title",label:i.createElement(u,{id:"AddFormPrevision.Name"})}),h.frequency===E.MONTHLY&&i.createElement(i.Fragment,null,i.createElement(o,{name:"amount_monthly",label:i.createElement(u,{id:"AddFormPrevision.Monthly"})}),i.createElement(c,{name:"amount_annual",value:0})),h.frequency!==E.MONTHLY&&i.createElement(i.Fragment,null,i.createElement(c,{name:"amount_monthly",value:0}),i.createElement(o,{name:"amount_annual",label:i.createElement(u,{id:"AddFormPrevision.Annualy"})})),i.createElement(c,{name:"expenseCategoryId",value:t._id}));return i.createElement(p,{maxWidth:"lg",form:P,onSubmit:y,onClose:n,buttonConfirmLabel:x._id?g({id:"Actions.Edit"}):g({id:"Actions.Add"}),title:g({id:"AddFormPrevision.title"})})};t.exportDefault(k)}

