function module(t,e,n){var l,a,o,i,c,r,u,s,d,m,f,b,k,p,I,E,S,h,C,y,j,g;n.link("@babel/runtime/helpers/objectSpread2",{default:function(t){l=t}},0),n.link("@babel/runtime/helpers/slicedToArray",{default:function(t){a=t}},1),n.link("react",{default:function(t){o=t},useEffect:function(t){i=t},useState:function(t){c=t}},0),n.link("react-meteor-hooks",{useMethod:function(t){r=t}},1),n.link("moment",{default:function(t){u=t}},2),n.link("react-intl",{useIntl:function(t){s=t}},3),n.link("@material-ui/core/Card",{default:function(t){d=t}},4),n.link("@material-ui/core/CardContent/CardContent",{default:function(t){m=t}},5),n.link("../../components/MainLoader",{default:function(t){f=t}},6),n.link("../../../lib/users/getUsername",{default:function(t){b=t}},7),n.link("../../../lib",{getDurationDays:function(t){k=t}},8),n.link("../../components/crm/ChipProject",{default:function(t){p=t}},9),n.link("../../components/TableStat/TableReportCa",{default:function(t){I=t}},10),n.link("../../components/TableStat/TableReportHours",{default:function(t){E=t}},11),n.link("../../components/TableStat/TableReportNbProjects",{default:function(t){S=t}},12),n.link("../../components/TableStat/DateStat",{default:function(t){h=t}},13),n.link("../../../lib/hooks/useDatePredefined",{default:function(t){C=t}},14),n.link("../../components/crm/ChipCustomer",{default:function(t){y=t}},15),n.link("../../components/InvoicesAttendees",{default:function(t){j=t}},16),n.link("../../../constants/FINANCES",{EnumChoice:function(t){g=t}},17);var D={backgroundColor:"lightgray",position:"sticky"},T={backgroundColor:"lightgray",position:"sticky",zIndex:11},v=function(t){var e,n,v=t.keyStat,F=void 0===v?"userId":v,O=r("teams.reports.statsByDate"),P=c([]),x=a(P,2),A=x[0],L=x[1],R=c(g.INVOICE_AND_PRODUCT_FORCAST),B=a(R,2),N=B[0],H=B[1],M=C("week"),_=M.dateStartInit,U=M.dateEndInit,V=M.duration,w=c(_),z=a(w,2),q=z[0],G=z[1],J=c(U),K=a(J,2),Q=K[0],W=K[1],X,Y=s().formatMessage;i((function(){O.call({startDate:u.utc(q).startOf("days").toDate(),endDate:u.utc(Q).endOf("days").toDate(),projectIds:A,choice:N,keyStat:F})}),[q,Q,A.length,N]);var Z=[],$=[],tt=[],et=[],nt=null===(e=O.data)||void 0===e?void 0:e.entriesStat;nt&&Object.keys(nt).forEach((function(t){Object.keys(nt[t]).forEach((function(e){if(Object.keys(nt[t][e]).length){var n={},a={},o={},i={};Object.keys(nt[t][e]).forEach((function(c){nt[t][e][c].length>0&&nt[t][e][c].forEach((function(t){var e,r,u,s;n=l(l(l({},t),n),{},((e={})[c]=t.amountPeriodBillable,e[c+"-tooltip"]=t.totalInSecondBillable,e)),a=l(l(l({},t),a),{},((r={})[c]=t.totalInSecond,r)),o=l(l(l({},t),o),{},((u={})[c]=t.numberProject,u)),i=l(l(l({},t),i),{},((s={})[c]=(t.amountPeriodBillable/k(t.totalInSecondBillable)).toFixed(2),s))}))})),Z.push(a),$.push(n),tt.push(o),et.push(i)}}))}));var lt="userId"===F?Y({id:"Stats.Collaborator"}):"customerId"===F?Y({id:"Sidebar.Customers"}):"projectId"===F?Y({id:"Sidebar.Projects"}):"",at={title:lt,field:"name",render:function(t){return t.userId?b(t.userId):t.projectId?o.createElement(p,{projectId:t.projectId}):t.customerId?o.createElement(y,{customerId:t.customerId}):t.name}},ot={title:Y({id:"Stats.Total"}),field:"",cellStyle:l({},D),headerStyle:l({},T)},it=null===(n=O.data)||void 0===n?void 0:n.columns;return o.createElement(o.Fragment,null,o.createElement(j,null),o.createElement(d,null,o.createElement(m,null,o.createElement(h,{dateEndInit:U,dateStartInit:_,dateStart:q,setDateStart:G,dateEnd:Q,setDateEnd:W,projectIds:A,setProjectIds:L,duration:V,choice:N,setValueChoices:H}))),o.createElement("br",null),O.isLoading||!O.data?o.createElement(f,null):o.createElement(o.Fragment,null,o.createElement(I,{billableHours:!0,columnsCalcul:it,columnsFirst:at,columnsTotal:ot,entries:$,xLabel:lt}),o.createElement(E,{columnsCalcul:it,columnsFirst:at,columnsTotal:ot,entries:Z,xLabel:lt}),o.createElement(I,{billableHours:!1,title:Y({id:"Stats.ADR"}),columnsCalcul:it,columnsFirst:at,columnsTotal:ot,entries:et,xLabel:lt}),o.createElement(S,{columnsCalcul:it,columnsFirst:at,columnsTotal:ot,entries:tt,xLabel:lt})))};n.exportDefault(v)}

