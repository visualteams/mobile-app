function module(e,t,l){var n,a,r,i,o,c,s,m;l.link("@babel/runtime/helpers/objectSpread2",{default:function(e){n=e}},0),l.link("react",{default:function(e){a=e}},0),l.link("moment",{default:function(e){r=e}},1),l.link("@material-ui/core/Tooltip",{default:function(e){i=e}},2),l.link("../../../lib/sumByField",{default:function(e){o=e}},3),l.link("./Dashboard",{default:function(e){c=e}},4),l.link("react-intl",{FormattedMessage:function(e){s=e}},5),l.link("../../../lib/hooks/useLocale",{default:function(e){m=e}},6);var u=function(e){for(var t=e.columns,l=e.precision,u=e.setPrecision,d=e.amountTotalInvoiceGlobalTTC,b=e.amountTotalExpenseGlobalTTC,E=e.amountTotalInvoiceExerciceTTC,p=e.amountTotalExpenseExerciceTTC,f=e.outstandingExpenseAmount,v=e.outstandingInvoicesAmount,h=e.outstandingInvoicesListToolip,T=e.outstandingExpensesListToolip,C=e.totalTaxAmountInvoice,D=e.totalTaxAmountExpense,A=e.totalTVAPaid,k=e.credit,g=e.creditRefund,x=e.dateStart,y=e.startDateData,S=e.dateEnd,M=e.tresorerieMensuelInvoices,W=e.tresorerieMensuelExpenses,N=e.placement,q=e.capital,w=e.repartitionM1,P=e.setrepartitionM1,j=e.formatNumber,L=m(),B=d-b,I=d-E-(b-p),V=C-D-A,F=k-g>0?k-g:0,G=[{name:a.createElement(i,{title:a.createElement("div",null,a.createElement(s,{id:"DashboardWorkflow.GlobalBalanceAfterExplain",defaultMessage:"Ceci correspond aux mouvement TTC depuis le début l'activité avant cette exercice."}),a.createElement("br",null),"Crédit : ",a.createElement("b",null,j(d-E)),a.createElement("br",null),"Débit: ",a.createElement("b",null,j(b-p)),a.createElement("br",null),a.createElement("br",null),"soit ",j(I))},a.createElement("span",{className:"have-tooltip"},a.createElement(s,{id:"DashboardWerkflow.GlobalBalanceAfter"})," ",r.utc(x).local(L).format("L"))),Credit:j(),Debit:j,Solde:j(I)},{name:a.createElement(i,{title:a.createElement("div",null,"Ceci correspond à la sommes des factures et des dépenses depuis le début de l'exercice.",a.createElement("br",null),"Crédit : ",a.createElement("b",null,j(E)),a.createElement("br",null),"Débit: ",a.createElement("b",null,j(p)),a.createElement("br",null),a.createElement("br",null),"soit ",j(E-p)," sur cette exercice",a.createElement("hr",null),"Tous mouvements TTC depuis le début l'activité , exercice inclus",a.createElement("br",null),"Crédit : ",a.createElement("b",null,j(d)),a.createElement("br",null),"Débit: ",a.createElement("b",null,j(b)),a.createElement("br",null),a.createElement("br",null),"soit ",j(d-b))},a.createElement("span",{className:"have-tooltip"},a.createElement(s,{id:"DashboardWerkflow.GlobalBalance"}))),Credit:j(E),Debit:j(p),Solde:j(B)},{name:a.createElement(i,{title:"Ceci correspond au montant qui est disponible à cet instant sur les comptes bancaires"},a.createElement("span",{className:"have-tooltip"},a.createElement(s,{id:"DashboardWerkflow.ResultCash"}))),Credit:"",Debit:"",Solde:a.createElement("span",{style:{fontWeight:"bold",color:"orange"}},j(B))},{name:a.createElement(i,{title:"Ceci correspond aux opérations qui ont étées saisies mais qui ne sont actuellement pas encore réglées par les clients concernés"},a.createElement("span",{className:"have-tooltip"},a.createElement(s,{id:"DashboardWerkflow.UnpaidOperation"}))),Credit:a.createElement("div",{style:{justifyContent:"center",display:"flex"}},a.createElement(i,{title:a.createElement(a.Fragment,null,h.map((function(e,t){return a.createElement("div",{key:t},null!=e&&e.number?(null==e?void 0:e.number)+" - ":"",(null==e?void 0:e.tiersName)||e.description," -",r.utc(e.date).locale(L).format("L")," -"," ",j(e.outstandingAmount))})))},a.createElement("div",{className:"have-tooltip"},j(v)))),Debit:a.createElement("div",{style:{justifyContent:"center",display:"flex"}},a.createElement(i,{title:a.createElement(a.Fragment,null,T.map((function(e,t){return a.createElement("div",{key:t},null!=e&&e.number?(null==e?void 0:e.number)+" - ":"",(null==e?void 0:e.tiersName)||e.description," -",r.utc(e.date).locale(L).format("L")," -"," ",j(-e.outstandingAmount))})))},a.createElement("div",{className:"have-tooltip"},j(-f)))),Solde:j(B+v+f)},{name:a.createElement(i,{title:"Ceci correspond au montant qui sera disponible sur les comptes bancaires lorsque toutes les documents émises seront réglées par les clients concernés"},a.createElement("span",{className:"have-tooltip"},a.createElement(s,{id:"DashboardWerkflow.CashForecast"}))),Credit:"",Debit:"",Solde:a.createElement("span",{style:{fontWeight:"bold",color:"blue"}},j(B+v+f))}],Y=0,O={},R=[],U=r.utc(y);U.isBefore(S);){var z=U.format("YYYY-MM"),H=o(M[z],"totalAmountPaid")+o(W[z],"totalAmountPaid");Y+=H,O[z]=Y,R[z]=H,U.add(1,"month")}var J={};Object.keys(M).forEach((function(e){J[e]=M[e].length?o(M[e],"totalAmountPaid"):0}));var K={};Object.keys(W).forEach((function(e){K[e]=W[e].length?-o(W[e],"totalAmountPaid"):0}));var Q=[n(n({},J),{},{name:"Encaissement"}),n(n({},K),{},{name:"Décaissement"}),n(n({},R),{},{name:"Balance TTC"}),n(n({},O),{},{name:"Trésorerie",disableTotal:!0})],X=[{name:a.createElement(s,{id:"DashboardWerkflow.ResultCash"}),Credit:j(B),Debit:"",Solde:j(B)}];return 0===D&&C-A==0||X.push({name:a.createElement(i,{title:a.createElement("div",null,"Au crédit, la TVA déductible ( Tva achat ) : ",a.createElement("b",null,j(D)),a.createElement("br",null),a.createElement("br",null),"Au débit, la TVA encaissée par nos factures clients ",w?"":"réglées"," :"," ",a.createElement("b",null,j(C)),a.createElement("br",null),a.createElement("br",null),"TVA collecté déjà payée: ",a.createElement("b",null,j(A)),a.createElement("br",null),a.createElement("br",null),"La somme indique le montant de TVA collectée restant à reverser :"," ",a.createElement("b",null,j(V)),a.createElement("br",null),"soit ( ",j(C)," -",j(D)," -"," ",j(A)," )"," ")},a.createElement("span",null,"TVA")),Credit:j(D),Debit:j(C-A),Solde:j(B-V)}),k>0&&F>0&&X.push({name:a.createElement(i,{title:a.createElement("div",null,"Ceci correspond au montant total débloqué du crédit (au débit) moins la somme des remboursements déjà effectués (au crédit).",a.createElement("br",null),a.createElement("br",null),"Montant restant à amortir : ",a.createElement("b",null,j(F)))},a.createElement("span",null,"Credit à amortir")),Credit:j(g),Debit:j(k),Solde:j(B-V-F)}),N>0&&X.push({name:a.createElement("div",null,"Placement Action"),Credit:j(N),Debit:"",Solde:j(B-V-F+N)}),0!==q&&X.push({name:a.createElement("div",null,"Capital de la société"),Credit:"",Debit:j(q),Solde:j(B-V-F+N-q)}),X.push({name:a.createElement(i,{title:"Ceci correspond au montant acquis par l'entreprise"},a.createElement("span",null,a.createElement(s,{id:"DashboardWorkflow.AvailableCash"}))),Credit:"",Debit:"",Solde:a.createElement("span",{style:{fontWeight:"bold",color:"green"}},j(B-V-F+N-q))}),a.createElement(c,{columns:t,entriesTresorerie:Q,precision:l,setPrecision:u,entriesTotalTreso:G,repartitionM1:w,setrepartitionM1:P,entriesTotal:X})};l.exportDefault(u)}

