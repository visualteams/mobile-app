function module(e,t,n){var i,r,l,o,u,a,s,c,f,m,d,p,k,g,E,b,y,A,h,M,P;n.link("@babel/runtime/regenerator",{default:function(e){i=e}},0),n.link("@babel/runtime/helpers/objectSpread2",{default:function(e){r=e}},1),n.link("@babel/runtime/helpers/slicedToArray",{default:function(e){l=e}},2),n.link("react",{default:function(e){o=e},useState:function(e){u=e}},0),n.link("react-intl",{FormattedMessage:function(e){a=e},useIntl:function(e){s=e}},1),n.link("meteor/react-meteor-data",{useTracker:function(e){c=e}},2),n.link("meteor/meteor",{Meteor:function(e){f=e}},3),n.link("react-toastify",{toast:function(e){m=e}},4),n.link("material-ui-confirm",{useConfirm:function(e){d=e}},5),n.link("@material-ui/icons/FilterList",{default:function(e){p=e}},6),n.link("@material-ui/core/Tooltip",{default:function(e){k=e}},7),n.link("@material-ui/core/IconButton",{default:function(e){g=e}},8),n.link("@material-ui/icons/Edit",{default:function(e){E=e}},9),n.link("@material-ui/icons/Delete",{default:function(e){b=e}},10),n.link("@visualteams/ui-kit/colors",{default:function(e){y=e}},11),n.link("../components/crm/MaterialTable",{default:function(e){A=e}},12),n.link("../components/Button",{default:function(e){h=e}},13),n.link("../../db/groupsPermissions",{default:function(e){M=e}},14),n.link("../forms/AddFormPermissions",{default:function(e){P=e}},15);var v=function(){var e=u(!1),t=l(e,2),n=t[0],v=t[1],C=u(null),F=l(C,2),z=F[0],T=F[1],x,D=s().formatMessage,S=d(),j=c((function(){return M.find().fetch()}),[]),w=[{title:D({id:"Permissions.name",defaultMessage:"Nom du groupe"}),field:"name"},{title:D({id:"Permissions.type",defaultMessage:"Type du groupe"}),field:"type"},{field:"actions",title:"Actions",sorting:!1,align:"right"}],B=function(){function e(e){return i.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.awrap(S());case 2:f.promise("groupsPermissions.delete",{_id:e}).then((function(){return m.success(D({id:"success"}))})).catch((function(){return m.error(D({id:"error"}))}));case 3:case"end":return t.stop()}}return t}(),null,null,null,Promise)}return e}(),I=function(e){return o.createElement("div",null,o.createElement(k,{title:D({id:"Actions.Edit"})},o.createElement(g,{onClick:function(){return T(e)},size:"small"},o.createElement(E,null))),!e.protected&&o.createElement(k,{title:D({id:"Actions.Delete"})},o.createElement("span",null,o.createElement(g,{onClick:function(){return B(e._id)},size:"small",style:{color:y.danger}},o.createElement(b,null)))))},_=D({id:"Permissions.titleArray",defaultMessage:"Groupes de permissions"});return o.createElement(o.Fragment,null,z&&o.createElement(P,{model:z,onClose:function(){return T(!1)}}),o.createElement(A,{title:_,columns:w,data:j.map((function(e){return r(r({},e),{},{actions:I(e)})})),components:{Actions:function(){return o.createElement(o.Fragment,null,o.createElement(h,{id:"button-filter-permissions",onClick:function(){return v(!n)},size:"small",color:n?"secondary":"default",variant:"outlined",style:{marginRight:16}},o.createElement(p,{fontSize:"small"}),o.createElement(a,{id:"Actions.Filtrer"})),o.createElement(h,{id:"button-add-permissions",onClick:function(){return T({})},size:"large",placement:"left"},o.createElement(a,{id:"Permissions.Add",defaultMessage:"Ajouter un groupe de permissions"})))}},options:{filtering:n}}))};n.exportDefault(v)}

