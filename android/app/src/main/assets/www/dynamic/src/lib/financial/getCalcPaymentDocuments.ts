function module(t,a,n){(function(t){var a,n,o;t.link("@babel/runtime/helpers/objectSpread2",{default:function(t){a=t}},0),t.export({dateValidTreso:function(){return e}}),t.link("moment",{default:function(t){n=t}},0),t.link("../../constants/FINANCES",{FINANCES:function(t){o=t}},1);var e=function(t,a,o){return!!t&&t<=n.utc(a).format("YYYYMM")&&t>=n.utc(o).format("YYYYMM")},u=function(t,u,m,r,i){if(null!=t&&t.payments&&!u){var d=[],c=0,Y=0;return(null==t?void 0:t.payments.filter((function(t){return!!t.date})).length)>0&&t.payments.forEach((function(a){var u=a.date?n.utc(a.date).format("YYYY-MM-DD"):o.DATE_END,l=n.utc(u).format("YYYY-MM"),f=n.utc(u).format("YYYYMM"),A=!!e(f,m,r),p=!!e(f,m,i),M=a.amount/t.totalAmount,P=a.amount-t.preTaxAmount*M;c+=A?a.amount:0,Y+=A?P:0,d.push({dateKey:l,dateCompareKey:f,documentPaid:A,documentPaidExercice:p,totalAmountPaid:A?a.amount:0,taxAmountPaid:A?P:0})})),a(a({},t),{},{arrayPayment:d,totalAmountPaid:c,taxAmountPaid:Y})}var l=u?t.documentDate:o.DATE_END,f=n.utc(t.paidDate&&!u?t.paidDate:l).format("YYYY-MM"),A=n.utc(t.paidDate&&!u?t.paidDate:l).format("YYYYMM"),p=!!e(A,m,r),M=!!e(A,m,i);return a(a({},t),{},{arrayPayment:[{dateKey:f,dateCompareKey:A,documentPaid:p,documentPaidExercice:M,totalAmountPaid:p?t.totalAmount:0,taxAmountPaid:p?t.totalAmount-t.preTaxAmount:0}],totalAmountPaid:p?t.totalAmount:0,taxAmountPaid:p?t.totalAmount-t.preTaxAmount:0})};t.exportDefault(u)}).call(this,n)}

