function module(e,t,n){var i,l,a,r,c,o,m,u,s,d,f,E,g,p,b,j,S,P,k,x,v,h,T,I;function A(e){var t=e.children,n,i;return(0,e.condition)(I())?a.only(t):null}n.link("@babel/runtime/regenerator",{default:function(e){i=e}},0),n.link("react",{default:function(e){l=e},Children:function(e){a=e}},0),n.link("uniforms-material",{AutoField:function(e){r=e},AutoForm:function(e){c=e}},1),n.link("react-intl",{FormattedMessage:function(e){o=e},useIntl:function(e){m=e}},2),n.link("meteor/meteor",{Meteor:function(e){u=e}},3),n.link("@material-ui/core/Grid",{default:function(e){s=e}},4),n.link("../../../db/crm/projects/schema",{default:function(e){d=e}},5),n.link("../../../db/crm/projects",{default:function(e){f=e}},6),n.link("../../settings/plugins/DisplayHooks",{default:function(e){E=e}},7),n.link("../../components/AddForm",{default:function(e){g=e}},8),n.link("./ProjectBar",{default:function(e){p=e}},9),n.link("../../components/DisplayHookWrapper",{default:function(e){b=e}},10),n.link("@visualteams/plugin-engine/definitions/hooks",{Hooks:function(e){j=e}},11),n.link("../../TitleBox",{default:function(e){S=e}},12),n.link("@material-ui/icons/Settings",{default:function(e){P=e}},13),n.link("@material-ui/icons/AccessTime",{default:function(e){k=e}},14),n.link("@material-ui/icons/MonetizationOn",{default:function(e){x=e}},15),n.link("@material-ui/icons/Info",{default:function(e){v=e}},16),n.link("../../components/crm/ChipProject",{default:function(e){h=e}},17),n.link("uniforms-bridge-simple-schema-2",{SimpleSchema2Bridge:function(e){T=e}},18),n.link("uniforms",{useForm:function(e){I=e}},19);var D=function(e){var t=e.match.params.projectId,n,a=m().formatMessage,I=f.findOne(t),D=function(){function e(e){return i.async(function(){function t(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.awrap(u.promise("projects.update",{_id:e._id},e).catch((function(){return Alert.error(a({id:"error"}))})));case 2:case"end":return t.stop()}}return t}(),null,null,null,Promise)}return e}();console.log("project:",I);var y=l.createElement(c,{model:I,schema:new T(d)},l.createElement(S,{title:l.createElement(o,{id:"ProjectSettings.GeneralInformation"}),subTitle:l.createElement(o,{id:"ProjectSettings.GeneralInformationSubTitle"}),icon:l.createElement(v,null),defaultExpanded:!0},l.createElement(s,{container:!0,spacing:2},l.createElement(s,{item:!0,xs:12,sm:6},l.createElement(s,{container:!0,spacing:2,style:{maxWidth:400}},l.createElement(s,{item:!0,xs:12},l.createElement(r,{name:"name",label:l.createElement(o,{id:"ProjectSettings.Name"})})),l.createElement(s,{item:!0,xs:12},l.createElement(r,{name:"customerId",label:a({id:"ProjectSettings.Customer"})})),l.createElement(s,{item:!0,xs:12},l.createElement(r,{name:"projectStatusId",label:a({id:"ProjectSettings.Status"})})),l.createElement(s,{item:!0,xs:12},l.createElement(r,{name:"usersId",label:a({id:"ProjectSettings.Users"})})))),l.createElement(s,{item:!0,xs:12,sm:6},l.createElement(s,{container:!0,spacing:2},l.createElement(s,{item:!0,xs:12},l.createElement(r,{name:"color",label:l.createElement(o,{id:"ProjectSettings.Color"})})),l.createElement(s,{item:!0,xs:12},l.createElement(r,{name:"comment",label:a({id:"ProjectSettings.Comments"})})))))),l.createElement("br",null),l.createElement(S,{title:l.createElement(o,{id:"ProjectSettings.Time"}),subTitle:l.createElement(o,{id:"ProjectSettings.TimeSubtitle"}),icon:l.createElement(k,null)},l.createElement(s,{container:!0,spacing:2},l.createElement(s,{item:!0,xs:12},l.createElement(r,{name:"estimatedTime",label:a({id:"ProjectSettings.EstimatedTime"})}),l.createElement(r,{name:"startDate",label:a({id:"ProjectSettings.StartDate",defaultMessage:"Date de début"}),defaultValue:I.startDate||null}),l.createElement(r,{name:"endDate",label:a({id:"ProjectSettings.EndDate",defaultMessage:"Date de fin"}),defaultValue:I.endDate||null})))),l.createElement("br",null),l.createElement(S,{title:l.createElement(o,{id:"ProjectSettings.Billing"}),subTitle:l.createElement(o,{id:"ProjectSettings.BillingSubTitle"}),icon:l.createElement(x,null)},l.createElement(s,{container:!0,spacing:2,style:{maxWidth:400}},l.createElement(s,{item:!0,xs:12},l.createElement(r,{name:"billing",label:a({id:"ProjectSettings.BillingMode"}),options:[{label:a({id:"ProjectSettings.Regie"}),value:"regie"},{label:a({id:"ProjectSettings.Forfait"}),value:"forfait"}]})),l.createElement(A,{condition:function(e){return"forfait"===e.model.billing}},l.createElement(s,{item:!0,xs:12},l.createElement(r,{name:"totalAmount",label:a({id:"ProjectSettings.TotalAmount"})}))),l.createElement(A,{condition:function(e){return"regie"===e.model.billing}},l.createElement(s,{item:!0,xs:12},l.createElement(r,{name:"amountHourly",label:a({id:"ProjectSettings.AmountHourly"})}))),l.createElement(s,{item:!0,xs:12},l.createElement(r,{name:"invoicesId",label:a({id:"ProjectSettings.Invoices"})})))),l.createElement("br",null),l.createElement(S,{title:l.createElement(o,{id:"ProjectSettings.Advanced"}),subTitle:l.createElement(o,{id:"ProjectSettings.AdvancedSubtitle"}),icon:l.createElement(P,null)},l.createElement(s,{container:!0,spacing:2,style:{maxWidth:400}},l.createElement(s,{item:!0,xs:12},l.createElement(r,{name:"nameExportPdf",label:a({id:"ProjectSettings.ExportName"})})),l.createElement(s,{item:!0,xs:12},l.createElement(r,{name:"active",label:a({id:"ProjectSettings.Active"})})))));return l.createElement("div",null,l.createElement(p,{projectId:t}),l.createElement(g,{form:y,onSubmit:D,popupMode:!1,autoSave:!0,title:l.createElement("span",null,l.createElement(o,{id:"ProjectSettings.TitleForm"})," ",l.createElement(h,{projectId:t,disableLink:!0,style:{top:-4,position:"relative"}})),buttonConfirmLabel:a({id:"Actions.save"}),containerComponent:function(e){var t=e.children;return l.createElement("div",null,t)}}),l.createElement("br",null),l.createElement(E,{hookName:j.ProjectConfiguration,wrapperComponent:b,data:{projectId:t}}))};n.exportDefault(D)}

